@page "/"
@rendermode InteractiveServer
@using DispatchManager.Services
@using System.Data
@inject DatabaseService DatabaseService
@inject NavigationManager Navigation
@inject IJSRuntime JS


<PageTitle>ROLE SELECT</PageTitle>

<h1>ROLE SELECT</h1>

Please Select Your Role!

    <button class="driver-button" @onclick="NavigateToDriverLogin">Driver</button>

    <button class="mechanic-button" @onclick="inc">Mechanic</button>




@code {
    private DataTable drivers;
    private int currentCount = 0; 


    protected override async Task OnInitializedAsync()
    {
        string query = "SELECT * FROM driver";
        drivers = DatabaseService.ExecuteQuery(query);
    }

    private void inc()
    {
        currentCount++;
    }
    private void NavigateToDriverLogin()
    {
        if (Navigation == null)
        {
            Console.WriteLine("NavigationManager is null.");
        }
        else
        {
            Console.WriteLine("Navigating to /driver-login");
            Navigation.NavigateTo("/driver-login");
        }
    }
    /*
     * @if (drivers != null)
        {
        <ul>
        @foreach (DataRow driver in drivers.Rows)
            {
            <li>@driver["drivername"]</li>
            }
        </ul>
    }
    else
    {
    <p>Loading drivers...</p>
    }

    */
}
